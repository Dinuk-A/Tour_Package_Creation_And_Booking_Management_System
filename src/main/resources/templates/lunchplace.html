<!DOCTYPE html>
<html lang="en">

<head th:replace="~{thymeleafFrs :: commonHeadFr}"></head>

<head>

    <!-- link main css -->
    <!-- <link rel="stylesheet" href="resources/css/lunchplace.css"> -->

    <!-- link vehicle js -->
    <script src="controllerJSs/lunchplace.js"></script>

</head>

<body>

    <header th:replace="~{thymeleafFrs :: headerFragment}"></header>
    <aside th:replace="~{thymeleafFrs :: asideFragment}"></aside>
    <div th:replace="~{thymeleafFrs :: userInfoEditModalFragment}"></div>
    <div th:replace="~{thymeleafFrs :: customAlertFragment}"></div>

    <main id="mainAreaID" class="main min-vh-100 mx-auto">

        <!-- Tabs navigation panel -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <!-- for table side -->
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="table-tab" data-bs-toggle="tab" href="#tableLunchPlaceHolderDiv"
                    role="tab" aria-controls="tableLunchPlaceHolderDiv" aria-selected="true">Table</a>
            </li>
            <!-- for form side -->
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="form-tab" data-bs-toggle="tab" href="#formLunchPlaceHolderDiv" role="tab"
                    aria-controls="formLunchPlaceHolderDiv" aria-selected="false" onclick="setLHStatusAuto()">Form</a>
            </li>
        </ul>

        <!-- Tabs content -->
        <div class="tab-content mt-1" id="myTabContent">
            <!-- Table tab  -->
            <div id="tableLunchPlaceHolderDiv" class="tab-pane fade show active table-container p-4 rounded-3"
                role="tabpanel" aria-labelledby="table-tab">
                <!-- a table will be dynamically generated in here -->
            </div>

            <!-- Form tab -->
            <div class="tab-pane fade" id="formLunchPlaceHolderDiv" role="tabpanel" aria-labelledby="form-tab">
                <div class="card mx-auto" style="width: 1100px;">
                    <div class="card-header bg-primary text-white text-center">
                        <h3 class="mb-0">Lunch Hotels Management Form</h3>
                    </div>
                    <div class="card-body" style="background-color: ivory;">

                        <!-- Lunch Place Details Form -->
                        <form id="formLunchPlace" onsubmit="return false">
                            <!-- General Info -->
                            <fieldset class="border border-dark p-4 mb-4 bg-light">
                                <legend class="float-none w-auto px-2 text-primary">General Information</legend>
                                <div class="row g-3">
                                    <!-- Name -->
                                    <div class="col-md-9">
                                        <label for="inputLHPlaceName" class="form-label fw-bold mb-0"> Restaurant/Hotel
                                            Name:</label>
                                        <input type="text" placeholder="Enter The Restaurant Name" id="inputLHPlaceName"
                                            class="form-control" required
                                            onkeyup="inputValidatorText(this,'','lunchplace','name');">
                                    </div>

                                    <!-- Cost Per Head -->
                                    <div class="col-md-3">

                                        <label for="inputCostperHead" class="form-label fw-bold mb-0">Cost Per
                                            Head:</label>

                                        <div class="input-group mb-1">
                                            <span class="input-group-text p-1 pb-0">
                                                <h6 class="my-auto">LKR</h6>
                                            </span>
                                            <input type="number" placeholder="1500.00" id="inputCostperHead"
                                                class="form-control" required
                                                onkeyup="inputValidatorText(this,'','lunchplace','costperhead');"
                                                onblur="insertDecimals(this);">
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <!-- Contact & Location Info -->
                            <fieldset class="border border-dark p-4 mb-4 bg-light">
                                <legend class="float-none w-auto px-2 text-primary">Contact & Location</legend>

                                <div class="row g-3 mb-2">

                                    <!-- Contact Number -->
                                    <div class="col-md-3">
                                        <label for="inputContactNum" class="form-label fw-bold mb-0">Contact
                                            Number #1:</label>
                                        <input type="tel" id="inputContactNum" placeholder="Enter Primary Contact Number" pattern="[0-9]{10}" class="form-control"
                                            onkeyup="inputValidatorText(this,'','lunchplace','contactnum');">
                                    </div>

                                    <!-- Contact Number 2 -->
                                    <div class="col-md-3">
                                        <label for="inputContactNumTwo" class="form-label fw-bold mb-0">Contact Number
                                            #2:</label>
                                        <input type="tel" id="inputContactNumTwo"  placeholder="Enter Secondary Contact Number" pattern="[0-9]{10}"
                                            class="form-control"
                                            onkeyup="inputValidatorText(this,'','lunchplace','contactnumtwo');">
                                    </div>

                                    <!-- Contact Email -->
                                    <div class="col-md-6">
                                        <label for="inputLPEmail" class="form-label fw-bold mb-0">Email:</label>
                                        <input type="tel" id="inputLPEmail"  placeholder="Enter The Email Address" class="form-control"
                                            onkeyup="inputValidatorText(this,'','lunchplace','email');">
                                    </div>
                                </div>

                                <div class="row g-3 mb-2">

                                    <!-- Province -->
                                    <div class="col-6">
                                        <label for="selectLHProvince" class="form-label fw-bold mb-0">Province <span
                                                class="text-danger">*</span>
                                            :</label>
                                        <select id="selectLHProvince" class="form-select mb-3"
                                            onchange="getDistByProvince()"></select>
                                    </div>

                                    <!-- District ID -->
                                    <div class="col-md-6">
                                        <label for="selectLHDistrict" class="form-label fw-bold mb-0">District :</label>
                                        <select id="selectLHDistrict" class="form-select mb-2"
                                            onchange="dynamicSelectValidator(this, 'lunchplace' , 'district_id')"></select>
                                    </div>
                                </div>

                                <div class="row g-3 mb-2">
                                    <!-- Address -->
                                    <div class="col-md-6">
                                        <label for="inputLHAddress" class="form-label fw-bold mb-0">Address:</label>
                                        <textarea id="inputLHAddress" class="form-control" rows="3"
                                            onkeyup="inputValidatorText(this,'','lunchplace','address');" placeholder="Enter The Address"></textarea>
                                    </div>

                                    <!-- Geo Coords -->
                                    <div class="col-md-6">
                                        <label for="inputLHGeoCoords" class="form-label fw-bold mb-0">Geo
                                            Coords:</label>
                                        <input type="text" id="inputLHGeoCoords" class="form-control"
                                            placeholder="Paste from Google Maps"
                                            oninput="inputValidatorText(this,'','lunchplace','gcoords')">
                                    </div>
                                </div>
                            </fieldset>


                            <!-- Notes & Status -->
                            <fieldset class="border border-dark p-4 mb-4 bg-light">
                                <legend class="float-none w-auto px-2 text-primary">Other Details</legend>

                                <div class="row g-3">
                                    <!-- Note -->
                                    <div class="col-md-8">
                                        <label for="inputLHNote" class="form-label fw-bold mb-0">Note:</label>
                                        <textarea id="inputLHNote" class="form-control" rows="3"
                                            onkeyup="inputValidatorText(this,'','lunchplace','note');" placeholder="Enter Any Additional Information"></textarea>
                                    </div>

                                    <!-- Status -->
                                    <div class="col-md-4">
                                        <label for="lHStatusSelect" class="form-label fw-bold mb-0">Status:</label>
                                        <select required id="lHStatusSelect" class="form-select"
                                            onchange="staticSelectValidator(this,'lunchplace','lp_status')">
                                            <option value="" selected disabled>Select Status</option>
                                            <option value="available">Available</option>
                                            <option value="closed">Not In Business</option>
                                            <option value="ifDeleted" class="d-none">Deleted Record</option>
                                        </select>
                                    </div>
                                </div>
                            </fieldset>


                            <!-- Buttons -->
                            <div class="row mt-4 mb-2">
                                <div class="col-4">
                                    <button type="reset" class="btn-clear fw-bold"
                                        onclick="refreshLunchPlaceForm()">Reset Form</button>
                                </div>
                                <div class="col-8 text-end">
                                    <button type="button" id="lunchPlaceUpdateBtn" class="btn-update fw-bold"
                                        onclick="updateLunchPlace()">Update Entry</button>
                                    <button type="submit" id="lunchPlaceAddBtn" class="btn-add fw-bold"
                                        onclick="addNewLunchPlace()">Add Entry</button>
                                </div>
                            </div>

                        </form>


                    </div>

                </div>
            </div>
        </div>

        <!-- Modal to display full details of a row -->
        <div class="modal fade py-5" id="infoModalLunchPlace" tabindex="-1" aria-labelledby="infoModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content shadow-lg rounded-4">
                    <!-- Modal Header -->
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="infoModalLabel">Lunch Place Full Details</h5>
                        <button type="button" class="btn-close text-white" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>

                    <!-- Modal Body -->

                    <div class="modal-body bg-light">
                        <div class="container">

                            <!-- Row 1: Name and Geo Coords -->
                            <div class="row py-3 align-items-start" style="border-bottom: 1px solid #004d7a;">
                                <div class="col-md-8">
                                    <p class="fw-bold mb-0 text-primary">Name:</p>
                                    <p id="modalLPName" class="  mb-2"></p>
                                </div>
                                <div class="col-md-4">
                                    <p class="fw-bold mb-0 text-primary">Geo Coords:</p>
                                    <p id="modalLHGeoCoords" class="  mb-2"></p>
                                </div>
                            </div>

                            <!-- Row 2: Address, District, Province -->
                            <div class="row py-3 " style="border-bottom: 1px solid #004d7a;">
                                <div class="col-md-6">
                                    <p class="fw-bold mb-0 text-primary">Address:</p>
                                    <p id="modalLPAddress" class="  mb-2"></p>
                                </div>
                                <div class="col-md-3">
                                    <p class="fw-bold mb-0 text-primary">District:</p>
                                    <p id="modalLPDistrict" class="  mb-2"></p>
                                </div>
                                <div class="col-md-3">
                                    <p class="fw-bold mb-0 text-primary">Province:</p>
                                    <p id="modalLPProvince" class="  mb-2"></p>
                                </div>
                            </div>

                            <!-- Row 3: Contact Numbers and Email -->
                            <div class="row py-3 " style="border-bottom: 1px solid #004d7a;">
                                <div class="col-md-4">
                                    <p class="fw-bold mb-0 text-primary">Contact Number:</p>
                                    <p id="modalLPContactNum" class="  mb-2"></p>
                                </div>
                                <div class="col-md-4">
                                    <p class="fw-bold mb-0 text-primary">Contact Number #2:</p>
                                    <p id="modalLPContactNumTwo" class="  mb-2"></p>
                                </div>
                                <div class="col-md-4">
                                    <p class="fw-bold mb-0 text-primary">Email:</p>
                                    <p id="modalLPEmail" class="  mb-2"></p>
                                </div>
                            </div>

                            <!-- Row 4: Cost Per Head and Status -->
                            <div class="row py-3 " style="border-bottom: 1px solid #004d7a;">
                                <div class="col-md-6">
                                    <p class="fw-bold mb-0 text-primary">Cost Per Head:</p>
                                    <p id="modalLPCostPerHead" class="  mb-2"></p>
                                </div>
                                <div class="col-md-6">
                                    <p class="fw-bold mb-0 text-primary">Status:</p>
                                    <p id="modalLPStatus" class="  mb-2"></p>
                                </div>
                            </div>

                            <!-- Row 5: Additional Details -->
                            <div class="row py-3" style="border-bottom: 1px solid #004d7a;">
                                <div class="col-md-8">
                                    <p class="fw-bold mb-0 text-primary">Additional Details:</p>
                                    <p id="modalLPNote" class="  mb-2"></p>
                                </div>
                                <div class="col-md-4">
                                    <p id="modalLPIfDeleted" class="text-danger d-none mb-0"></p>
                                </div>
                            </div>

                        </div>
                    </div>



                    <!-- Modal Footer -->
                    <div class="modal-footer d-flex justify-content-between bg-light">
                        <button class="btn-print fw-bold" onclick="printLunchPlaceRecord()">
                            Print Record
                        </button>
                        <div>
                            <button id="modalLPEditBtn" class="btn-edit fw-bold me-2"
                                onclick="refillLunchPlaceForm(window['currentObject'])">
                                Edit Entry
                            </button>
                            <button id="modalLPDeleteBtn" class="btn-delete fw-bold"
                                onclick="deleteLunchPlaceRecord(window['currentObject'])">
                                Delete Entry
                            </button>
                            <button id="modalLPRecoverBtn" class="btn-restore fw-bold d-none"
                                onclick="restoreLunchPlaceRecord()">
                                Restore Entry
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </main>
</body>

</html>