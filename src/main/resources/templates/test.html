<!DOCTYPE html>
<html lang="en">

<head th:replace="~{thymeleafFrs :: commonHeadFr}">
    <style>
        .container {
            max-width: 700px;
            margin-top: 50px;
        }

        .form-container {
            background-color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .form-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .nav-tabs .nav-link {
            border-radius: 0;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .nav-tabs .nav-link.active {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
        }

        .nav-tabs {
            border-bottom: 2px solid #e9ecef;
        }

        .tab-content {
            margin-top: 20px;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }
    </style>
</head>

<body>
    <header th:replace="~{thymeleafFrs :: headerFragment}"></header>
    <aside th:replace="~{thymeleafFrs :: asideFragment}"></aside>
    <div th:replace="~{thymeleafFrs :: userInfoEditModalFragment}"></div>
    <!--<div th:replace="~{thymeleafFrs :: customAlertFragment}"></div>-->
    <!--<div th:replace="~{thymeleafFrs :: customConfirmFragment}"></div>-->

    <main id="mainAreaID" class="main">

        <div class="container bg-light p-4">
            <div class="form-container bg-warning p-2">
                <div class="form-title">
                    <h2>Modern Multi-Step Form</h2>
                </div>

                <!-- Tabs Navigation -->
                <ul class="nav nav-tabs" id="formTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="nav-link active" id="step1-tab" data-bs-toggle="tab" href="#step1" role="tab"
                            aria-controls="step1" aria-selected="true">Step 1</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" id="step2-tab" data-bs-toggle="tab" href="#step2" role="tab"
                            aria-controls="step2" aria-selected="false">Step 2</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" id="step3-tab" data-bs-toggle="tab" href="#step3" role="tab"
                            aria-controls="step3" aria-selected="false">Step 3</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" id="step4-tab" data-bs-toggle="tab" href="#step4" role="tab"
                            aria-controls="step4" aria-selected="false">Step 4</a>
                    </li>
                </ul>

                <!-- Tabs Content -->
                <div class="tab-content" id="formTabsContent">
                    <!-- Step 1: Personal Information -->
                    <div class="tab-pane fade show active" id="step1" role="tabpanel" aria-labelledby="step1-tab">
                        <h5>Step 1: Personal Information</h5>
                        <div class="mb-3">
                            <label for="firstName" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="firstName" required>
                        </div>
                        <div class="mb-3">
                            <label for="lastName" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="lastName" required>
                        </div>
                    </div>

                    <!-- Step 2: Contact Information -->
                    <div class="tab-pane fade" id="step2" role="tabpanel" aria-labelledby="step2-tab">
                        <h5>Step 2: Contact Information</h5>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phone" required>
                        </div>
                    </div>

                    <!-- Step 3: Address -->
                    <div class="tab-pane fade" id="step3" role="tabpanel" aria-labelledby="step3-tab">
                        <h5>Step 3: Address</h5>
                        <div class="mb-3">
                            <label for="address" class="form-label">Street Address</label>
                            <input type="text" class="form-control" id="address" required>
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" required>
                        </div>
                    </div>

                    <!-- Step 4: Review -->
                    <div class="tab-pane fade" id="step4" role="tabpanel" aria-labelledby="step4-tab">
                        <h5>Step 4: Review</h5>
                        <p>Please review your information before submitting:</p>
                        <ul class="review-list" id="reviewDetails"></ul>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="btn-container">
                    <button type="button" class="btn btn-secondary" id="prevBtn" disabled>Previous</button>
                    <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
                </div>
            </div>
        </div>


        <script>
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');
            const tabLinks = document.querySelectorAll('.nav-link');
            let currentStep = 0;

            function updateTab() {
                tabLinks.forEach((link, index) => {
                    if (index === currentStep) {
                        link.classList.add('active');
                        link.setAttribute('aria-selected', 'true');
                    } else {
                        link.classList.remove('active');
                        link.setAttribute('aria-selected', 'false');
                    }
                });

                // Disable the 'Previous' button on the first step
                prevBtn.disabled = currentStep === 0;
                nextBtn.textContent = currentStep === tabLinks.length - 1 ? 'Submit' : 'Next';

                // Show/Hide review section on the last step
                if (currentStep === tabLinks.length - 1) {
                    document.getElementById('reviewDetails').innerHTML = `
                        <li><strong>First Name:</strong> ${document.getElementById('firstName').value}</li>
                        <li><strong>Last Name:</strong> ${document.getElementById('lastName').value}</li>
                        <li><strong>Email:</strong> ${document.getElementById('email').value}</li>
                        <li><strong>Phone:</strong> ${document.getElementById('phone').value}</li>
                        <li><strong>Address:</strong> ${document.getElementById('address').value}</li>
                        <li><strong>City:</strong> ${document.getElementById('city').value}</li>
                    `;
                }
            }

            nextBtn.addEventListener('click', () => {
                if (currentStep < tabLinks.length - 1) {
                    currentStep++;
                    updateTab();
                } else {
                    alert('Form Submitted!');
                    // Here you can handle the form submission logic
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentStep > 0) {
                    currentStep--;
                    updateTab();
                }
            });

            updateTab(); // Initialize the form
        </script>

    </main>
</body>

</html>