<!DOCTYPE html>
<html lang="en">

<head th:replace="~{thymeleafFrs :: commonHeadFr}"></head>

<head>


    <!-- Make sure jQuery is loaded before SmartWizard -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- SmartWizard CSS should be loaded after Bootstrap CSS -->
    <link rel="stylesheet" href="libs/smartwiz/css/smart_wizard_all.min.css">
</head>

<body>
    <header th:replace="~{thymeleafFrs :: headerFragment}"></header>
    <aside th:replace="~{thymeleafFrs :: asideFragment}"></aside>
    <div th:replace="~{thymeleafFrs :: userInfoEditModalFragment}"></div>

    <main id="mainAreaID" class="main min-vh-100">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab dolorum ipsum a tenetur asperiores veritatis amet
            explicabo sunt in nemo.</p>

        <div class="container mt-5">
            <div class="card">
                <div class="card-header">
                    Multi-Step Form
                </div>
                <div class="card-body">
                    <div id="smartwizard">
                        <ul class="nav">
                            <li class="nav-item">
                                <a class="nav-link" href="#step-1">Step 1</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#step-2">Step 2</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#step-3">Step 3</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#step-4">Step 4</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#step-5">Step 5</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#step-6">Step 6</a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div id="step-1" class="tab-pane" role="tabpanel" aria-labelledby="step-1">
                                <!-- Step 1: Name and Status -->
                                <div class="mb-2">
                                    <div class="input-group">
                                        <!-- Name Label -->
                                        <label class="form-label" for="inputPlaceName" style="width:65%">Name :</label>
                                        <!-- Status label -->
                                        <label for="selectAttrStatus" class="form-label">Status: </label>
                                    </div>
                                    <div class="input-group">
                                        <!-- Name Input -->
                                        <input id="inputPlaceName"
                                            onkeyup="inputValidatorText(this, '' ,'attraction' ,'name' )" type="text"
                                            class="form-control form-input me-2" style="width:35%">

                                        <!-- Status input -->
                                        <select required id="selectAttrStatus" class="form-select"
                                            onchange="staticSelectValidator(this,'attraction','attr_status')">
                                            <option value="" selected disabled> Select Status </option>
                                            <option value="open"> Open Site </option>
                                            <option value="permanantly_closed"> Permanantly Closed </option>
                                            <option value="temporary_closed"> Temporary Closed </option>
                                            <option value="ifDeleted" class="d-none"> Deleted Record </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div id="step-2" class="tab-pane" role="tabpanel" aria-labelledby="step-2">
                                <!-- Step 2: Province and District -->
                                <div class="mb-2">
                                    <div class="input-group">
                                        <!-- Label for PROVINCE -->
                                        <label class="form-label w-50" for="selectAttrProvince">Province</label>
                                        <!-- Label for DISTRICT -->
                                        <label for="selectAttrDistrict" class="form-label w-50">District</label>
                                    </div>
                                    <div class="input-group">
                                        <!-- SELECT PROVINCE -->
                                        <select id="selectAttrProvince" class="form-control form-select"
                                            onchange="getDistByProvince()">
                                            <option value="province1">Province 1</option>
                                            <option value="province2">Province 2</option>
                                            <option value="province3">Province 3</option>
                                        </select>

                                        <!-- SELECT DISTRICT -->
                                        <select id="selectAttrDistrict" class="ms-3 form-control form-select"
                                            onchange="dynamicSelectValidator(this,'attraction','district_id')">
                                            <option value="district1">District 1</option>
                                            <option value="district2">District 2</option>
                                            <option value="district3">District 3</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div id="step-3" class="tab-pane" role="tabpanel" aria-labelledby="step-3">
                                <!-- Step 3: Types (Accordion) -->
                                <div class="mb-2 w-100 border p-3 accordion accordion-flush mt-2"
                                    id="accordionForTypes">
                                    <div class="accordion-item">
                                        <div class="accordion-header mb-2">
                                            <button class="p-0 accordion-button collapsed fw-bold " type="button"
                                                data-bs-toggle="collapse" data-bs-target="#flushCollapseOne"
                                                aria-expanded="false" aria-controls="flushCollapseOne">
                                                <h5 class="text-info"> Categories : Click to Expand</h5>
                                            </button>
                                        </div>
                                        <div id="flushCollapseOne" class="accordion-collapse collapse ps-4"
                                            data-bs-parent="#accordionForTypes">
                                            <div class="accordion-body bg-light d-flex justify-content-between">
                                                <!-- Add your dynamic content here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="step-4" class="tab-pane" role="tabpanel" aria-labelledby="step-4">
                                <!-- Step 4: Entrance Fees -->
                                <div class="mb-2">
                                    <div class="row">
                                        <h5>Entrance Fees</h5>

                                        <!-- 3 Check Boxes for Entrance Fees -->
                                        <div class="input-group">
                                            <!-- CB 1 -->
                                            <input type="radio" class="btn-check" id="allEntryFreeChkBox"
                                                autocomplete="off" name="entranceFees" value="All Free"
                                                onchange="allEntryFree(); attraction.feetype = this.value">
                                            <label class="btn btn-outline-success w-33 rounded-start"
                                                for="allEntryFreeChkBox">All Free</label>

                                            <!-- CB 2 -->
                                            <input type="radio" class="btn-check" id="localsEntryFreeCheckBox"
                                                autocomplete="off" value="Local Free" name="entranceFees"
                                                onchange="localsEntryFree(); attraction.feetype = this.value">
                                            <label class="ms-1 btn btn-outline-warning w-33"
                                                for="localsEntryFreeCheckBox">Local Free</label>

                                            <!-- CB 3 -->
                                            <input type="radio" class="btn-check" id="allPaidCheckBox"
                                                autocomplete="off" name="entranceFees" value="All Paid"
                                                onchange="allPaid(); attraction.feetype = this.value">
                                            <label class="btn ms-1 btn-outline-danger w-33" for="allPaidCheckBox">All
                                                Paid</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="step-5" class="tab-pane" role="tabpanel" aria-labelledby="step-5">
                                <!-- Step 5: Fees Input -->
                                <div class="mb-2">
                                    <div class="row">
                                        <div class="col-6 bg-light border">
                                            <h5 class="mt-1">Local Fees</h5>

                                            <!-- Local ADULT -->
                                            <div class="row mt-1 mb-3">
                                                <div class="col-6">
                                                    <label class="form-label  mb-0">Local Adult</label>
                                                    <div class="input-group">
                                                        <span class="input-group-text p-1 pb-0">
                                                            <h6>LKR</h6>
                                                        </span>
                                                        <input type="number" id="inputLocalAdultFee"
                                                            class="form-control form-input w-85 p-1 text-center"
                                                            placeholder=""
                                                            onkeyup="inputValidatorText(this,'^(?!0+$)\\d+(\\.\\d{1,2})?','attraction','feelocaladult')">
                                                    </div>
                                                </div>

                                                <!-- Local CHILD -->
                                                <div class="col-6">
                                                    <label class="form-label mb-0">Local Children</label>
                                                    <div class="input-group">
                                                        <span class="input-group-text p-1 pb-0">
                                                            <h6>LKR</h6>
                                                        </span>
                                                        <input type="text" id="inputLocalChildFee"
                                                            class="form-control form-input w-85 p-1 text-center"
                                                            placeholder=""
                                                            onkeyup="inputValidatorText(this,'^(?!0+$)\\d+(\\.\\d{1,2})?','attraction','feechildlocal')">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-6 bg-light border">
                                            <h5 class="mt-1">Foreign Fees</h5>

                                            <!-- Foreign ADULT -->
                                            <div class="row mt-1 mb-3 ">
                                                <div class="col-6">
                                                    <label class="form-label mb-0">Foreign Adult</label>
                                                    <div class="input-group">
                                                        <span class="input-group-text p-1 pb-0">
                                                            <h6>LKR</h6>
                                                        </span>
                                                        <input type="text" id="inputForeignAdultFee"
                                                            class="form-control form-input w-85 p-1 text-center"
                                                            placeholder=""
                                                            onkeyup="inputValidatorText(this,'^(?!0+$)\\d+(\\.\\d{1,2})?','attraction','feeforeignadult')">
                                                    </div>
                                                </div>

                                                <!-- Foreign CHILD -->
                                                <div class="col-6">
                                                    <label class="form-label mb-0">Foreign Children</label>
                                                    <div class="input-group">
                                                        <span class="input-group-text p-1 pb-0">
                                                            <h6>LKR</h6>
                                                        </span>
                                                        <input type="number" id="inputForeignChildFee"
                                                            class="form-control form-input w-85 p-1 text-center"
                                                            placeholder=""
                                                            onkeyup="inputValidatorText(this,'^(?!0+$)\\d+(\\.\\d{1,2})?','attraction','feechildforeign')">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="step-6" class="tab-pane" role="tabpanel" aria-labelledby="step-6">
                                <!-- Step 6: Additional Information -->
                                <div class="row mt-2">
                                    <div class="col-5">
                                        <label for="inputNote" class="form-label fw-bold">Location Description :</label>
                                        <textarea class="form-control" placeholder=" " id="inputNote"
                                            onkeyup="inputValidatorText(this,'','attraction','description')"
                                            style="height: 100px;"
                                            aria-placeholder="Enter A Short Description About The Location"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SmartWizard JS should be loaded after jQuery -->
        <script src="libs/smartwiz/js/jquery.smartWizard.min.js"></script>
        <script>
            // Wait for document to fully load
            $(document).ready(function () {
                // Initialize SmartWizard with proper settings
                $('#smartwizard').smartWizard({
                    selected: 0, // Start from Step 1
                    theme: 'arrows', // Choose from 'default', 'arrows', 'dots', 'progress'
                    justified: true, // Navigation menu will be justified
                    autoAdjustHeight: false, // Set to false to avoid height calculation errors
                    backButtonSupport: true, // Enables browser back button support
                    enableURLhash: false, // Allow navigation via URL hash
                    transition: {
                        animation: 'fade', // Animation effect on step change
                        speed: '400', // Animation speed
                        easing: '' // Animation easing
                    },
                    toolbarSettings: { // Corrected from 'toolbar' to 'toolbarSettings'
                        toolbarPosition: 'bottom', // Show buttons at the bottom
                        toolbarButtonPosition: 'end', // Align buttons to the end
                        showNextButton: true, // Show Next button
                        showPreviousButton: true, // Show Previous button
                        extraHtml: '<button class="btn btn-primary">Finish</button>' // Add extra button if needed
                    },
                    anchorSettings: { // Corrected from 'anchor' to 'anchorSettings'
                        anchorClickable: true, // Enable anchor navigation
                        enableAllAnchors: true, // Make all anchors clickable
                        markDoneStep: true, // Mark previous steps as done
                        markAllPreviousStepsAsDone: true // Mark all steps as done
                    },
                    keyboardSettings: { // Corrected from 'keyboard' to 'keyboardSettings'
                        keyNavigation: true, // Enable left/right arrow keys
                        keyLeft: [37], // Left arrow key
                        keyRight: [39] // Right arrow key
                    },
                    lang: {
                        next: 'Next',
                        previous: 'Previous'
                    }
                });

                // Add this after SmartWizard initialization
                $('#smartwizard .nav-link').on('click', function (e) {
                    e.preventDefault();
                    return false;
                });
            });
        </script>
    </main>
</body>

</html>