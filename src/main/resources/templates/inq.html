<!DOCTYPE html>
<html lang="en">

<head th:replace="~{thymeleafFrs :: commonHeadFr}"></head>

<head>

    <!-- link inq css -->
    <link rel="stylesheet" href="css/inq.css">

    <!-- link inq js -->
    <script src="controllerJSs/inq.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
    <header th:replace="~{thymeleafFrs :: headerFragment}"></header>
    <aside th:replace="~{thymeleafFrs :: asideFragment}"></aside>
    <div th:replace="~{thymeleafFrs :: userInfoEditModalFragment}"></div>
    <div th:replace="~{thymeleafFrs :: customAlertFragment}"></div>

    <main id="mainAreaID" class="main mx-auto">

        <!-- Tabs navigation panel -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <!-- for table side -->
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="table-tab" data-bs-toggle="tab" href="#tableTabPane" role="tab"
                    aria-controls="tableTabPane" aria-selected="true">Table</a>
            </li>
            <!-- for form side -->
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="form-tab" data-bs-toggle="tab" href="#formSystemInqHolderDiv" role="tab"
                    aria-controls="formSystemInqHolderDiv" aria-selected="false" onclick="setInqStatusAuto()">Form</a>
                <!-- onclick="setEmpStatusAuto()" -->
            </li>
        </ul>

        <!-- Tabs content -->
        <div class="tab-content mt-1" id="myTabContent">

            <!-- Table tab  -->
            <div id="tableTabPane" class="tab-pane fade show active table-container p-4 rounded-3" role="tabpanel"
                aria-labelledby="table-tab">

                <!-- Inquiry Filters Row -->
                <div class="row mb-2">

                    <!-- by status -->
                    <div class="col-md-4">
                        <label for="inqStatusFilter" class="form-label fw-bold mb-0">Filter by Status</label>
                        <select id="inqStatusFilter" class="form-select" onchange="applyInquiryStatusFilter();">
                            <option value="All" selected>All</option>
                            <option value="New">New</option>
                            <option value="Assigned">Assigned</option>
                            <option value="Working">In-Progress</option>
                            <option value="Confirmed">Success</option>
                            <option value="Closed">Closed</option>
                        </select>
                    </div>

                    <!-- by assigned emps (this will only display to managers adn admins) -->
                    <div class="col-md-4" id="assignedUserFilterDiv" style="display: none;">
                        <label for="assignedUserFilter" class="form-label fw-bold mb-0">Filter by Assigned User</label>
                        <select id="assignedUserFilter" class="form-select" onchange="applyInquiryStatusFilter();">
                            <!-- dynamically filled -->
                        </select>
                    </div>

                </div>

                <div id="tableHolderDiv">
                    <!-- a table will be dynamically generated in here -->
                </div>

            </div>

            <!-- Form tab -->
            <div class="tab-pane fade" id="formSystemInqHolderDiv" role="tabpanel" aria-labelledby="form-tab">
                <div class="card mx-auto" style="width: 1100px;">

                    <div class="card-body" style="background-color: ivory;">

                        <form id="formSystemInq" onsubmit="return false">

                            <!-- Tabs Navigation inside form-->
                            <ul class="nav nav-tabs" id="inqTabs" role="tablist">

                                <li class="nav-item" role="presentation">
                                    <a class="nav-link active border border-dark" id="inqStep1-tab" data-bs-toggle="tab"
                                        href="#inqStep1" role="tab" aria-controls="inqStep1" aria-selected="true">Meta
                                        Data</a>
                                </li>

                                <li class="nav-item" role="presentation">
                                    <a class="nav-link  border border-dark" id="inqStep2-tab" data-bs-toggle="tab"
                                        href="#inqStep2" role="tab" aria-controls="inqStep2"
                                        aria-selected="true">Inquiry</a>
                                </li>

                                <li class="nav-item" role="presentation">
                                    <a class=" nav-link border border-dark" id="inqStep3-tab" data-bs-toggle="tab"
                                        href="#inqStep3" role="tab" aria-controls="inqStep3"
                                        aria-selected="false">Follow-up / Responses</a>
                                </li>

                                <!--in li onclick="checkFirstTab()" > -->
                                <!-- in a class = disabled -->
                                <li class="nav-item" role="presentation">
                                    <a class=" nav-link border border-dark" id="inqStep4-tab" data-bs-toggle="tab"
                                        href="#inqStep4" role="tab" aria-controls="inqStep4"
                                        aria-selected="false">Other</a>
                                </li>

                            </ul>

                            <div class="tab-content" id="inqTabsContent">

                                <!-- Step 1 -->
                                <div class="tab-pane fade show active" id="inqStep1" role="tabpanel"
                                    aria-labelledby="inqStep1-tab">

                                    <!-- Main Inquiry Section -->
                                    <fieldset class="border border-dark p-4 mb-4 mt-2 bg-light">
                                        <legend class="float-none w-auto px-2 text-primary">Inquiry Data</legend>

                                        <div class="row mb-1">

                                            <!-- Inquiry code -->
                                            <div class="col-3">
                                                <label for="inqCodeInput" class="form-label mb-0">Inquiry
                                                    Code:</label>
                                                <input disabled id="inqCodeInput" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'inqcode')">
                                            </div>

                                            <!--Source -->
                                            <div class="col-3">
                                                <label for="inqRecievedMethod" class="form-label mb-0">Source
                                                    :</label>

                                                <select id="inqRecievedMethod" class="form-control form-select mb-0"
                                                    onchange="staticSelectValidator(this,  'inquiry' , 'inqsrc'); handleRecievedAddr(this);">
                                                    <option value="" selected disabled>Select Source</option>
                                                    <option value="Website">Website</option>
                                                    <option value="Phone Call">Phone Call</option>
                                                    <option value="Email">Email</option>
                                                    <option value="In-person">in-person</option>
                                                </select>
                                            </div>

                                            <!-- Recieved Date  -->
                                            <div class="col-3">
                                                <label for="inqRecievedDate" class="form-label mb-0">Recieved
                                                    Date
                                                    :</label>

                                                <input id="inqRecievedDate" class="form-control form-input" type="date"
                                                    onchange="inputValidatorText(this, '' , 'inquiry' , 'recieveddate')" onkeypress="return false">
                                            </div>

                                            <!-- recieved time -->
                                            <div class="col-3">
                                                <label for="inqRecievedTime" class="form-label mb-0">Recieved
                                                    Time
                                                    :</label>

                                                <input id="inqRecievedTime" value="09:00"
                                                    class="form-control form-input" type="time"
                                                    onchange="inputValidatorText(this, '' , 'inquiry' , 'recievedtime')"
                                                    onkeypress="return false">
                                            </div>

                                        </div>

                                        <div class="row mt-2">

                                            <!-- Recieved COntact/Email -->
                                            <div class="col-4">
                                                <label for="inqRecievedContact" class="form-label mb-0">Recieved
                                                    Contact:</label>
                                                <input disabled id="inqRecievedContact" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'recievedcontactoremail')">
                                            </div>

                                            <!-- interested package -->
                                            <div class="col-8">
                                                <label for="inqInterestedPkg" class="form-label mb-0">Inquired
                                                    Package :</label>
                                                <select id="inqInterestedPkg" class="form-control form-select"
                                                    onchange="dynamicSelectValidator(this, 'inquiry','intrstdpkgid')">
                                                    <!-- only the id will be saved just before adding in (addNewInquiry), not all tpkg info,  -->
                                                </select>
                                            </div>

                                        </div>

                                    </fieldset>

                                    <!-- Client Information Section -->
                                    <fieldset class="border border-dark p-4 mb-4 bg-light">
                                        <legend class="float-none w-auto px-2 text-primary">Client Information</legend>

                                        <!-- Existing Client Notice -->
                                        <div id="existingClientNotice" class="alert alert-warning mt-3 d-none"
                                            role="alert">
                                            <strong>Note:</strong> This client is already registered in our system.
                                            <br>
                                            <span id="existingClientRegId" class="fw-bold d-none">Customer ID:
                                                CUST-XXXX</span>
                                        </div>

                                        <!-- Loyalty Discount Eligibility Notice -->
                                        <div id="loyaltyDiscountNotice" class="alert alert-success mt-3 d-none"
                                            role="alert">
                                            <strong>Good news!</strong> This customer is eligible for a loyalty
                                            discount.
                                        </div>

                                        <div class="row">

                                            <!-- title -->
                                            <div class="col-2">
                                                <label for="inqClientTitle" class="form-label mb-0">
                                                    Title :</label>

                                                <!--<input id="inqClientTitle" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'clienttitle')">-->

                                                <select class="form-select" id="inqClientTitle"
                                                    onchange="staticSelectValidator(this, 'inquiry', 'clienttitle')">
                                                    <option value="" selected disabled>-Select-</option>
                                                    <option value="Mr">Mr</option>
                                                    <option value="Ms">Ms</option>
                                                    <option value="Mrs">Mrs</option>
                                                    <option value="Dr">Dr</option>
                                                </select>

                                            </div>

                                            <!-- client name -->
                                            <div class="col-7">
                                                <label for="inqClientName" class="form-label mb-0">Client
                                                    Name :</label>
                                                <input id="inqClientName" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'clientname')">
                                            </div>

                                            <!-- nationality -->
                                            <div class="col-3">
                                                <label for="InqClientNationality" class="form-label mb-0">Nationality
                                                    :</label>

                                                <input type="text" id="InqClientNationality" class="form-control"
                                                    list="dataListNationality"
                                                    onkeyup="dataListValidator(this, 'nationalityList' , 'inquiry' , 'nationality_id' , 'countryname'); changeLableNicPpt();">
                                                <datalist id="dataListNationality"></datalist>

                                            </div>

                                        </div>

                                        <!-- client info 2 -->
                                        <div class="row mt-2">

                                            <!-- contact #1 -->
                                            <div class="col-3">
                                                <label for="inqContactOne" class="form-label mb-0">Contact
                                                    #1:</label>

                                                <input id="inqContactOne" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'contactnum')">
                                            </div>

                                            <!-- email -->
                                            <div class="col-6">
                                                <label for="inqClientEmail" class="form-label mb-0">Email:
                                                </label>

                                                <input id="inqClientEmail" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'email'); debouncedGetClientByEmail(this.value)" onblur="getClientByEmail(this.value)"> 
                                            </div>

                                            <!-- Preferred Contact Method -->
                                            <div class="col-3">
                                                <label for="prefContMethodPkgRelForm" class="form-label mb-0">Preferred
                                                    Contact Method:</label>
                                                <select class="form-select rounded" aria-label="Default select example"
                                                    onchange="staticSelectValidator(this, 'inquiry' , 'prefcontactmethod')"
                                                    id="prefContMethodPkgRelForm">
                                                    <option value="" selected disabled>Please Select</option>
                                                    <option value="Call">Phone call</option>
                                                    <option value="Whatsapp">Whatsapp Message</option>
                                                    <option value="Email">Email</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="row mt-2">

                                            <!-- passport OR nic num -->
                                            <!-- filterClient(); -->
                                            <div class="col-6" id="colPptOrNic">
                                                <label id="lblForNICorPpt" for="inqClientPassportNumorNIC"
                                                    class="form-label mb-0">Passport or NIC
                                                    :</label>

                                                <input id="inqClientPassportNumorNIC" class="form-control form-input"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'passportnumornic')">
                                            </div>

                                            <!--<div class="col-3"></div>-->

                                            <!-- additional contact -->
                                            <!--<div class="col-3 d-none">
                                                <label for="inqAdditionalContact" class="form-label mb-0">Contact
                                                    #2:</label>

                                                <input id="inqAdditionalContact" class="form-control form-input"
                                                    onkeyup="sameContactError(); ">
                                            </div>-->

                                        </div>

                                    </fieldset>

                                </div>

                                <!--step 2-->
                                <div class="tab-pane fade" id="inqStep2" role="tabpanel" aria-labelledby="inqStep2-tab">
                                    <!-- Main Inquiry Details Section -->
                                    <fieldset class="border border-dark px-4 py-1 mb-4 bg-light">
                                        <legend class="float-none w-auto px-2 text-primary mb-0">Inquiry Details
                                        </legend>

                                        <!-- to update an inquiry -->
                                        <div class="row mt-0 mb-4">
                                            <div class="col-12 d-flex justify-content-center">
                                                <button disabled id="inqEnableEditBtn" type="button"
                                                    class="btn btn-outline-success btn-lg px-5"
                                                    onclick="enableInqEditing()">
                                                    <i class="bi bi-pencil"></i> Enable Editing
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row mb-3">

                                            <!-- Enquiry main Text -->
                                            <div class="col-7">
                                                <label for="inqMainEnquiry" class="form-label mb-0 fw-bold">Main
                                                    Enquiry
                                                    :</label>
                                                <textarea class="form-control" id="inqMainEnquiry"
                                                    style="resize: none; height: 180px;"
                                                    onkeyup="inputValidatorText(this,'', 'inquiry' , 'main_inq_msg')"></textarea>
                                            </div>

                                            <!-- ests start date -->
                                            <div class="col-5">

                                                <div class="row mt-0">
                                                    <div class="col-12">
                                                        <label class="form-label fw-semibold mb-0"
                                                            for="inqApproxStartDate">Estimated Tour Start Date:</label>
                                                    </div>
                                                </div>

                                                <!-- actual start date -->
                                                <div class="row mb-2">
                                                    <div class="col-12">
                                                        <input type="date" class="form-control mt-0"
                                                            id="inqApproxStartDate"
                                                            onchange="inputValidatorText(this, '', 'inquiry', 'inq_apprx_start_date'); enableDateStatusRadios();">
                                                    </div>
                                                </div>

                                                <!-- start date status -->
                                                <div class="row mt-3">

                                                    <div class="col-12">
                                                        <label class="form-label fw-semibold mb-0"
                                                            for="tourStartDateStatus">Start Date Status:</label>
                                                    </div>

                                                    <!-- start date is sure -->
                                                    <div class="col-6">
                                                        <input disabled type="radio" class="btn-check"
                                                            name="tourStartDateStatus" id="startDateConfirmed"
                                                            autocomplete="off" onchange="handleStartDateStatusChange()">
                                                        <label
                                                            class="btn btn-outline-success w-100 fw-bold text-uppercase"
                                                            for="startDateConfirmed">Confirmed</label>
                                                    </div>

                                                    <!-- start date is not sure -->
                                                    <div class="col-6">
                                                        <input disabled type="radio" class="btn-check"
                                                            name="tourStartDateStatus" id="startDateUnconfirmed"
                                                            autocomplete="off" onchange="handleStartDateStatusChange()">
                                                        <label
                                                            class="btn btn-outline-primary w-100 fw-bold text-uppercase"
                                                            for="startDateUnconfirmed">Uncertain </label>
                                                    </div>

                                                </div>


                                            </div>
                                        </div>


                                        <div class="row mb-2">

                                            <!-- Number of Travellers Section in Card -->
                                            <div class="col-7">
                                                <div class="card shadow-sm border rounded-3 px-3 pt-3 pb-2 mt-0 ms-0">
                                                    <h5 class="text-info mb-1 border-bottom pb-1 fw-bold">Number of
                                                        Travellers</h5>

                                                    <div class="mb-2 d-flex gap-2">

                                                        <!-- Local Adults -->
                                                        <div class="col-md-3">
                                                            <label for="inqLocalAdultCount"
                                                                class="form-label mb-0 fs-6">Local Adults</label>
                                                            <input type="number" placeholder="0"
                                                                class="w-75 form-control" id="inqLocalAdultCount"
                                                                onkeyup="inputValidatorText(this, ' ^(?:[0-9]|[1-9][0-9]|1[0-9]{2})$', 'inquiry', 'inq_local_adults'); handleChildInputAvailability();  checkAtLeastOneAdultPresent();">
                                                        </div>

                                                        <!-- Local Children -->
                                                        <div class="col-md-3">
                                                            <label for="inqLocalChildCount"
                                                                class="form-label mb-0 fs-6">Local Children</label>
                                                            <input type="number" placeholder="0"
                                                                class="w-75 form-control" id="inqLocalChildCount"
                                                                disabled
                                                                onkeyup="inputValidatorText(this, '^(?:[0-9]|[1-9][0-9]|1[0-9]{2})$', 'inquiry', 'inq_local_kids');">
                                                        </div>

                                                        <!-- Foreign Adults -->
                                                        <div class="col-md-3">
                                                            <label for="inqForeignAdultCount"
                                                                class="form-label mb-0 fs-6">Foreign Adults</label>
                                                            <input type="number" placeholder="0"
                                                                class="w-75 form-control" id="inqForeignAdultCount"
                                                                onkeyup="inputValidatorText(this, ' ^(?:[0-9]|[1-9][0-9]|1[0-9]{2})$', 'inquiry', 'inq_foreign_adults'); handleChildInputAvailability();  checkAtLeastOneAdultPresent();">
                                                        </div>

                                                        <!-- Foreign Children -->
                                                        <div class="col-md-3">
                                                            <label for="inqForeignChildCount"
                                                                class="form-label mb-0 fs-6">Foreign Children</label>
                                                            <input type="number" placeholder="0"
                                                                class="w-75 form-control" id="inqForeignChildCount"
                                                                disabled
                                                                onkeyup="inputValidatorText(this, '^(?:[0-9]|[1-9][0-9]|1[0-9]{2})$', 'inquiry', 'inq_foreign_kids');">
                                                        </div>
                                                        <!-- Optional Total Travellers -->
                                                        <!--
                                                            <div class="ms-4 col-md-2">
                                                                <div class="form-group">
                                                                    <label for="inqTotalTravellers" class="form-label mb-0 fw-bold">Total Travellers</label>
                                                                    <input type="number" value="0" class="text-center form-control" id="inqTotalTravellers" disabled>
                                                                </div>
                                                            </div>
            -->
                                                    </div>

                                                </div>
                                            </div>

                                            <!-- guide preferences -->
                                            <div class="col-5">
                                                <div class="row mt-2">

                                                    <!-- Label Row -->
                                                    <div class="col-12">
                                                        <label class="form-label fw-semibold mb-2"
                                                            for="guideNeedOrNot">Require a Tour Guide?</label>
                                                    </div>

                                                    <!-- Options Row -->
                                                    <div class="col-6">
                                                        <input type="radio" class="btn-check" name="guideNeedOrNot"
                                                            id="guideYes" autocomplete="off"
                                                            onchange="handleNeedGuideCB()">
                                                        <label
                                                            class="btn btn-outline-success w-100 fw-bold text-uppercase"
                                                            for="guideYes">Yes</label>
                                                    </div>

                                                    <div class="col-6">
                                                        <input type="radio" class="btn-check" name="guideNeedOrNot"
                                                            id="guideNo" autocomplete="off"
                                                            onchange="handleNeedGuideCB()">
                                                        <label
                                                            class="btn btn-outline-primary w-100 fw-bold text-uppercase"
                                                            for="guideNo">No</label>
                                                    </div>

                                                </div>
                                            </div>


                                        </div>

                                        <!-- additional preferneces row 1 -->
                                        <div class="row mb-1">
                                            <!-- v places -->
                                            <div class="col-6 mb-2">
                                                <label class="form-label fw-bold mb-0"
                                                    for="inqPlacesPreferences">Visiting Places
                                                    Preferences:</label>
                                                <textarea class="form-control" id="inqPlacesPreferences"
                                                    onkeyup=" inputValidatorText(this, '', 'inquiry', 'inq_vplaces')"
                                                    style="resize: none; height: 120px;"></textarea>
                                            </div>
                                            <!-- accos -->
                                            <div class="col-6 mb-2">
                                                <label class="form-label fw-bold mb-0"
                                                    for="inqAccommodationNote">Accommodation
                                                    Preferences:</label>
                                                <textarea class="form-control" id="inqAccommodationNote"
                                                    onkeyup=" inputValidatorText(this, '', 'inquiry', 'inq_accos')"
                                                    style="resize: none; height: 120px;"></textarea>
                                            </div>

                                        </div>

                                        <!-- additional preferneces row 2-->
                                        <div class="row mb-3">
                                            <!--  Transport -->
                                            <div class="col-4 mb-2">
                                                <label class="form-label fw-bold mb-0" for="inqTransportNote">Transport
                                                    Preferences:</label>
                                                <textarea class="form-control" id="inqTransportNote"
                                                    onkeyup=" inputValidatorText(this, '', 'inquiry', 'inq_vehi')"
                                                    style="resize: none; height: 100px;"></textarea>
                                            </div>

                                            <!-- Estd Pickup Location -->
                                            <div class="col-4 mb-2">
                                                <label class="form-label fw-bold mb-0"
                                                    for="estdPickupLocation">Estimated
                                                    Pickup
                                                    Location:</label>
                                                <textarea class="form-control" id="estdPickupLocation"
                                                    onkeyup=" inputValidatorText(this, '', 'inquiry', 'inq_pick')"
                                                    style="resize: none; height: 100px;"></textarea>
                                            </div>

                                            <!-- Estd Dropoff Location -->
                                            <div class="col-4 mb-2">
                                                <label class="form-label fw-bold mb-0"
                                                    for="estdDropOffLocation">Estimated
                                                    DropOff Location:</label>
                                                <textarea class="form-control" id="estdDropOffLocation"
                                                    onkeyup=" inputValidatorText(this, '', 'inquiry', 'inq_drop')"
                                                    style="resize: none; height: 100px;"></textarea>
                                            </div>
                                        </div>
                                    </fieldset>

                                </div>

                                <!-- Step 3 -->
                                <div class="tab-pane fade" id="inqStep3" role="tabpanel" aria-labelledby="inqStep3-tab">

                                    <!-- Inquiry Response Section -->
                                    <fieldset class="border border-dark p-4 mb-4 bg-light">
                                        <legend class="float-none w-auto px-2 text-primary">Inquiry Responses</legend>


                                        <!-- button to add new responses -->
                                        <div class="row mt-2">
                                            <button disabled id="createNewResponseRowBtn"
                                                class="btn btn-primary mx-auto w-25"
                                                onclick="createNewResponseInputSection();">Add a new
                                                Response</button>
                                        </div>

                                        <!-- section to add new responses -->
                                        <div class="row mt-2" id="manualResponseAddingSection">
                                            <!-- a;so includes teh cancel and add response buttons -->
                                        </div>

                                        <!-- show previously submittede responses -->
                                        <div class="row mt-2" id="previousSubmittedAllResponses">
                                            <!-- updates histories will display here too -->
                                        </div>

                                    </fieldset>

                                </div>

                                <!-- step 4 -->
                                <div class="tab-pane fade" id="inqStep4" role="tabpanel" aria-labelledby="inqStep4-tab">
                                    <!-- Notes Section -->
                                    <fieldset class="border border-dark p-4 mb-4 bg-light">
                                        <legend class="float-none w-auto px-2 text-primary">Additional Details</legend>

                                        <!-- assigned user row -->
                                        <div class="row mb-3 d-none" id="assignedUserRow">
                                            <div class="row">

                                                <!-- main selection area -->
                                                <div class="col-6">
                                                    <label for="assignedUserSelect"
                                                        class="form-label fw-bold mb-1">Assigned To:</label>
                                                    <select id="assignedUserSelect" class="form-control form-select"
                                                        disabled
                                                        onchange="dynamicSelectValidator(this, 'inquiry','assigned_empid')">
                                                    </select>
                                                </div>

                                                <!-- buttons area -->
                                                <div class="col-6">
                                                    <div class="d-flex align-items-end h-100 justify-content-end">
                                                        <button disabled id="btnChangeAssignedUser"
                                                            class="btn btn-outline-primary btn-sm"
                                                            onclick="enableAssignedUserChange()">
                                                            Change Assigned Employee
                                                        </button>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>


                                        <div class="row">
                                            <!-- note -->
                                            <div class="col-7">
                                                <label for="inputNoteInquiry" class="form-label fw-bold mb-0">
                                                    Additional Information
                                                    <span class="text-info">
                                                        * </span> :</label>
                                                <textarea id="inputNoteInquiry" class="form-control" rows="6"
                                                    onkeyup="inputValidatorText(this, '' ,'inquiry' , 'note')"></textarea>
                                            </div>


                                            <!-- status -->
                                            <div class="col-5 ">
                                                <label for="inqStatus" class="form-label fw-bold mb-0">
                                                    Inquiry Status:
                                                    <span class="text-danger"> * </span> :</label>
                                                <select id="inqStatus" class="form-select"
                                                    onchange="staticSelectValidator(this , 'inquiry' , 'inq_status'); changesBasedOnInqStts(this);">
                                                    <option value="" selected disabled> Select Status </option>
                                                    <option value="New"> New Inquiry </option>
                                                    <option value="Assigned"> Assigned to Employee </option>
                                                    <option value="Working"> Processing Inquiry </option>
                                                    <option value="Confirmed"> Client Confirmed Booking</option>
                                                    <option value="Closed"> Inquiry Closed</option>
                                                    <option value="ifDeleted" class="d-none"> Deleted </option>
                                                </select>
                                            </div>

                                        </div>

                                        <!-- Form Buttons -->
                                        <div class="row mt-4 mb-2">
                                            <div class="col-4">
                                                <button id="inqResetFormBtn" type="reset" class="btn-clear fw-bold"
                                                    onclick="refreshSystemInqForm()">Reset
                                                    Form</button>
                                                <button id="inqPrintBtn" type="button" class="d-none btn-print fw-bold"
                                                    onclick="printInquirySummary(window['currentObject'])">Print Inquiry
                                                    Summary
                                                </button>
                                            </div>
                                            <div class="col-8 text-end">
                                                <button type="submit" id="convertToBookingBtn"
                                                    class="btn-update d-none fw-bold"
                                                    onclick="convertInqToBooking()">Convert to Booking</button>
                                                <button type="submit" id="manualInqUpdateBtn" class="btn-update fw-bold"
                                                    onclick="updateSystemInqWithFollowup()">Update Entry</button>
                                                <button type="submit" id="manualInqAddBtn" class="btn-add fw-bold"
                                                    onclick="addNewInquiry()">Add Entry</button>
                                            </div>
                                        </div>

                                    </fieldset>
                                </div>

                            </div>
                        </form>

                        <!-- this will rerender when we need only>> by createNewResponseInputSection btn-->
                        <template id="response-input-template">
                            <div class="row mt-4">
                                <div class="col-12">
                                    <div class="card shadow-sm border rounded p-4 bg-light">
                                        <div class="card-body">

                                            <div class="row gx-4">
                                                <div class="col-md-7 mb-3">
                                                    <label for="inputNewResponseTextField"
                                                        class="form-label fw-semibold">Summary of
                                                        Followup/Response:</label>
                                                    <textarea id="inputNewResponseTextField" class="form-control"
                                                        style="height: 120px;"
                                                        onkeyup="inputValidatorText(this, '', 'followup', 'content')"></textarea>
                                                </div>

                                                <div class="col-md-5 mb-3">
                                                    <!-- Label in full-width row -->
                                                    <div class="col-12">
                                                        <label class="form-label fw-semibold mb-0"
                                                            for="packageQuotedYes">Was a package quoted?</label>
                                                    </div>

                                                    <!-- Radio buttons inline below -->
                                                    <div class="row g-2 mt-1">
                                                        <div class="col-6">
                                                            <input type="radio" class="btn-check" name="packageQuoted"
                                                                id="packageQuotedYes" autocomplete="off"
                                                                onchange="handlePkgQuotedOrNot()">
                                                            <label
                                                                class="btn btn-outline-success w-100 fw-bold text-uppercase"
                                                                for="packageQuotedYes">Yes</label>
                                                        </div>
                                                        <div class="col-6">
                                                            <input type="radio" class="btn-check" name="packageQuoted"
                                                                id="packageQuotedNo" autocomplete="off"
                                                                onchange="handlePkgQuotedOrNot()">
                                                            <label
                                                                class="btn btn-outline-danger w-100 fw-bold text-uppercase"
                                                                for="packageQuotedNo">No</label>
                                                        </div>
                                                    </div>
                                                </div>


                                                <!--<div class="col-md-4 mb-3">
                                                    <label for="newInqResponseStatusSelect"
                                                        class="form-label fw-semibold mb-0">Followup Response
                                                        Status:</label>
                                                    <select id="newInqResponseStatusSelect" class="form-select"
                                                        onchange="staticSelectValidator(this, 'followup', 'followup_status'); ">
                                                        <option disabled selected>Please select status
                                                        </option>
                                                        <option value="gathering_info">Gathering Information
                                                        </option>
                                                        <option value="quote_sent">Tour Package Quoted</option>
                                                        <option value="no_response">Client Not Responding</option>
                                                        <option value="system_gen">System Generated</option>
                                                        <option value="followup_scheduled">Follow-up Scheduled</option>
                                                    </select>
                                                </div>-->
                                            </div>

                                            <div class="row mb-3">
                                                <div class="col-md-4 d-flex align-items-center">
                                                    <label for="lastSentTourPackageSelect"
                                                        class="mb-0 fw-semibold">Recently Quoted Tour Package:</label>
                                                </div>
                                                <div class="col-md-8">
                                                    <select id="lastSentTourPackageSelect"
                                                        class="form-select form-select"
                                                        onchange="dynamicSelectValidator(this, 'followup','last_sent_tpkg')"
                                                        disabled>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="d-flex justify-content-end mb-0 mt-3 gap-2">
                                                <button type="reset" class="btn btn-secondary"
                                                    onclick="deleteInqFollowupSection()">Cancel</button>
                                                <button type="button" class="btn btn-primary"
                                                    onclick="submitOnlyManualFollowup()">Submit Followup
                                                    Response</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>


                    </div>

                </div>
            </div>
        </div>

        <!-- Modal to display full details of a row -->

    </main>
</body>

</html>