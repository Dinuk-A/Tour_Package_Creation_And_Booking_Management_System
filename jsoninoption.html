<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Location Select Examples</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .section {
      margin-bottom: 40px;
    }
    .output {
      margin-top: 10px;
      font-size: 1.1em;
    }
  </style>
</head>
<body>

  <!-- 1. JSON in value -->
  <div class="section">
    <h2>1. JSON in <code>value</code></h2>
    <select id="selectValueJson">
      <option value='{"name":"New York","geo":{"lat":40.7128,"lng":-74.0060}}'>New York</option>
      <option value='{"name":"London","geo":{"lat":51.5074,"lng":-0.1278}}'>London</option>
      <option value='{"name":"Tokyo","geo":{"lat":35.6895,"lng":139.6917}}'>Tokyo</option>
    </select>
    <div class="output">
      <strong>Selected Location:</strong> <span id="valueName">None</span><br>
      <strong>Coordinates:</strong> <span id="valueCoords">N/A</span>
    </div>
  </div>

  <!-- 2. Multiple data-* attributes -->
  <div class="section">
    <h2>2. Multiple <code>data-*</code> Attributes</h2>
    <select id="selectDataAttrs">
      <option data-name="Paris" data-lat="48.8566" data-lng="2.3522">Paris</option>
      <option data-name="Berlin" data-lat="52.52" data-lng="13.405">Berlin</option>
      <option data-name="Sydney" data-lat="-33.8688" data-lng="151.2093">Sydney</option>
    </select>
    <div class="output">
      <strong>Selected Location:</strong> <span id="dataName">None</span><br>
      <strong>Coordinates:</strong> <span id="dataCoords">N/A</span>
    </div>
  </div>

  <!-- 3. Single data-location with JSON string -->
  <div class="section">
    <h2>3. Single <code>data-location</code> (JSON string)</h2>
    <select id="selectDataJson">
      <option data-location='{"name":"Rome","lat":41.9028,"lng":12.4964}'>Rome</option>
      <option data-location='{"name":"Toronto","lat":43.65107,"lng":-79.347015}'>Toronto</option>
      <option data-location='{"name":"Cape Town","lat":-33.9249,"lng":18.4241}'>Cape Town</option>
    </select>
    <div class="output">
      <strong>Selected Location:</strong> <span id="jsonName">None</span><br>
      <strong>Coordinates:</strong> <span id="jsonCoords">N/A</span>
    </div>
  </div>

  <script>
    // 1. JSON in value
    const selectValueJson = document.getElementById('selectValueJson');
    selectValueJson.addEventListener('change', () => {
      const data = JSON.parse(selectValueJson.value);
      document.getElementById('valueName').textContent = data.name;
      document.getElementById('valueCoords').textContent = `Lat: ${data.geo.lat}, Lng: ${data.geo.lng}`;
    });

    // 2. Multiple data-* attributes
    const selectDataAttrs = document.getElementById('selectDataAttrs');
    selectDataAttrs.addEventListener('change', () => {
      const option = selectDataAttrs.options[selectDataAttrs.selectedIndex];
      const name = option.dataset.name;
      const lat = option.dataset.lat;
      const lng = option.dataset.lng;
      document.getElementById('dataName').textContent = name;
      document.getElementById('dataCoords').textContent = `Lat: ${lat}, Lng: ${lng}`;
    });

    // 3. Single data-location with JSON string
    const selectDataJson = document.getElementById('selectDataJson');
    selectDataJson.addEventListener('change', () => {
      const option = selectDataJson.options[selectDataJson.selectedIndex];
      const data = JSON.parse(option.dataset.location);
      document.getElementById('jsonName').textContent = data.name;
      document.getElementById('jsonCoords').textContent = `Lat: ${data.lat}, Lng: ${data.lng}`;
    });

    // Trigger default selections
    selectValueJson.dispatchEvent(new Event('change'));
    selectDataAttrs.dispatchEvent(new Event('change'));
    selectDataJson.dispatchEvent(new Event('change'));
  </script>

</body>
</html>
